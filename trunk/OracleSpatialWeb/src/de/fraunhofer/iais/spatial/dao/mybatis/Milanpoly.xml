<?xml version="1.0" encoding="UTF-8"?>  
<!DOCTYPE mapper 
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 

<mapper namespace="de.fraunhofer.iais.spatial.entity.Milanpoly">



	<select id="selectAll" resultType="Milanpoly">
		select
			ID,
			NAME,
			GEOM,
			CLUSTERING_OF_SOM_CELL as "clustering",
			SDO_GEOM.SDO_AREA(m.geom, 0.005) as "area"
		from MILANPOLY m
	</select>

	<select id="selectById" resultType="Milanpoly" parameterType="int">
		select
			ID,
			NAME,
			GEOM,
			CLUSTERING_OF_SOM_CELL as "clustering",
			SDO_GEOM.SDO_AREA(m.geom, 0.005) as "area"
		from MILANPOLY m
		where m.ID = #{id}
	</select>

	<select id="select" resultType="Milanpoly" parameterType="oracle.spatial.geometry.JGeometry">
		select
			ID,
			NAME,
			GEOM,
			CLUSTERING_OF_SOM_CELL as "clustering",
			SDO_GEOM.SDO_AREA(m.geom, 0.005) as "area"
		from MILANPOLY m
		WHERE sdo_relate(m.geom, #{j_geom},'mask=anyinteract') = 'TRUE'
	</select>
</mapper>